<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=5, minimum-scale=0.5, user-scalable=yes">
    <title>Kanji-Raster Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/styles.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div id="kanjiLogo"></div>

    <button id="helpBtn">❓ Hilfe</button>

<div id="helpModal" class="modal">
  <div class="modal-content">
    <p>Brauchst du Hilfe beim Einstieg?</p>
    <button id="helpYes">Ja, bitte!</button>
    <button id="helpNo">Nein, danke</button>
  </div>
</div>



    <main>
        <div class="form-container">

            <div class="input-group">
                <label>Kanji:
                    <input type="text" id="kanjiInput" placeholder="魚">
                </label>
                <label>Romaji:
                    <input type="text" id="romajiInput" placeholder="sakana">
                </label>
                <label>Kun:
                    <input type="text" id="kunInput" placeholder="さかな">
                </label>
                <label>On:
                    <input type="text" id="onInput" placeholder="ギョ">
                </label>
            </div>

            <!-- <button onclick="startTour()">Tour starten</button> -->



            <div class="button-group">

                <button id="fillBtn" onclick="fillSVG()" title="Tabelle mit ausgefüllten Feldern bespeißen"><svg
                        class="icon white" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        viewBox="0 0 256 256">
                        <path
                            d="M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h80a8,8,0,0,1,0,16H48V208H208V128a8,8,0,0,1,16,0Z">
                        </path>
                    </svg>Eintragen <i class="ph ph-printer"></i> </button>

                <button id="downloadBtn" onclick="downloadPDF()" title="PDF herunterladen"><svg class="icon white"
                        xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        viewBox="0 0 256 256">
                        <path
                            d="M224,152a8,8,0,0,1-8,8H192v16h16a8,8,0,0,1,0,16H192v16a8,8,0,0,1-16,0V152a8,8,0,0,1,8-8h32A8,8,0,0,1,224,152ZM92,172a28,28,0,0,1-28,28H56v8a8,8,0,0,1-16,0V152a8,8,0,0,1,8-8H64A28,28,0,0,1,92,172Zm-16,0a12,12,0,0,0-12-12H56v24h8A12,12,0,0,0,76,172Zm88,8a36,36,0,0,1-36,36H112a8,8,0,0,1-8-8V152a8,8,0,0,1,8-8h16A36,36,0,0,1,164,180Zm-16,0a20,20,0,0,0-20-20h-8v40h8A20,20,0,0,0,148,180ZM40,112V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88v24a8,8,0,0,1-16,0V96H152a8,8,0,0,1-8-8V40H56v72a8,8,0,0,1-16,0ZM160,80h28.69L160,51.31Z">
                        </path>
                    </svg>Als PDF speichern</button>

                <button id="printBtn" onclick="printPDF()" title="Dokument drucken"> <svg class="icon white"
                        xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        viewBox="0 0 256 256">
                        <path
                            d="M214.67,72H200V40a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8V72H41.33C27.36,72,16,82.77,16,96v80a8,8,0,0,0,8,8H56v32a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8V184h32a8,8,0,0,0,8-8V96C240,82.77,228.64,72,214.67,72ZM72,48H184V72H72ZM184,208H72V160H184Zm40-40H200V152a8,8,0,0,0-8-8H64a8,8,0,0,0-8,8v16H32V96c0-4.41,4.19-8,9.33-8H214.67c5.14,0,9.33,3.59,9.33,8Zm-24-52a12,12,0,1,1-12-12A12,12,0,0,1,200,116Z">
                        </path>
                    </svg>Drucken</button>

                <button id="addTableBtn" onclick="addNewTable()" title="Weitere Tabelle hinzufügen"><svg
                        class="icon white" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        viewBox="0 0 256 256">
                        <path
                            d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z">
                        </path>
                    </svg>Neue Tabelle</button>

                <button id="deleteTableBtn" onclick="deleteTable()" title="Tabelle löschen"><svg class="icon white"
                        xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        viewBox="0 0 256 256">
                        <path
                            d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z">
                        </path>
                    </svg>Tabelle löschen</button>

            </div>

            <div class="DropZone">
                <div class="dropzone-content">
                    <div class="fileUploadContainer" id="fileDropArea">
                        <p id="fileDropText">Datei hierher ziehen oder klicken zum Auswählen</p>
                        <input type="file" id="fileInput" accept=".xml,.xlsx,.xls">
                    </div>

                    <div class="import-container">
                        <button type="button" id="importBtn">
                            <!-- Importieren-Icon -->
                            <svg fill="#ffffff" width="20px" height="20px" viewBox="0 0 36 36"
                                xmlns="http://www.w3.org/2000/svg">
                                <g>
                                    <path
                                        d="M28,4H14.87L8,10.86V15h2V13.61h7.61V6H28V30H8a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6A2,2,0,0,0,28,4ZM16,12H10v-.32L15.7,6H16Z" />
                                    <path
                                        d="M11.94,26.28a1,1,0,1,0,1.41,1.41L19,22l-5.68-5.68a1,1,0,0,0-1.41,1.41L15.2,21H3a1,1,0,1,0,0,2H15.23Z" />
                                </g>
                            </svg>
                            Importieren
                        </button>
                    </div>



                </div>
                <!-- Icon + Tooltip als eigener Container -->
                <div class="info-container">
                    <svg class="info-icon" width="24px" height="24px" viewBox="0 0 378 378"
                        xmlns="http://www.w3.org/2000/svg">
                        <g transform="matrix(1.02165,0,0,1.02165,-9.29616,-14.0051)">
                            <circle cx="194.071" cy="198.68" r="179.273" style="fill:rgb(128,128,128);" />
                        </g>
                        <g transform="matrix(1,0,0,1,22.8659,16.9821)">
                            <text x="90.485px" y="289.651px"
                                style="font-family:'NotoSansJP-Medium', 'Noto Sans JP', sans-serif;font-weight:500;font-size:312.5px;fill:rgb(235,235,235);">?</text>
                        </g>
                    </svg>

                    <div class="tooltip">
                        <img src="sampel.png" alt="Beschreibung">
                        <p>
                            Ziehe deine <span class="file-format">.xlsx</span>,
                            <span class="file-format">.xls</span> oder
                            <span class="file-format">.xml</span>-Dateien hierher, um sie automatisch in Raster
                            umzuwandeln.<br><br>
                            Achte dabei auf die <strong>korrekte Reihenfolge der Zellen</strong> –
                            der <strong>erste Eintrag jeder Spalte</strong> wird ebenfalls übernommen.
                        </p>
                    </div>
                </div>
            </div>

            <div class="select-group">
                <label for="tableSelector">Aktive Tabelle:
                    <select id="tableSelector"></select>
                </label>
            </div>

            <div id="svg-pages">
                <!-- Hier erscheinen mehrere SVGs -->
            </div>

            <button type="button" id="deleteAllBtn">
                <svg class="icon white" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                    viewBox="0 0 256 256">
                    <path
                        d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z">
                    </path>
                </svg>
                Alle Tabellen löschen
            </button>


        </div>
    </main>


    <div id="copyright">
        <footer>
            <p>© Skrollan Elena Hyodo</a></p>
        </footer>
    </div>

    <!-- <a href="impressum.html" target="_blank" style="position: fixed; bottom: 10px; right: 10px; font-size: 14px; color: gray;">ℹ️</a> -->
    <a href="impressum.html" target="_blank" id="impressumBtn" title="Impressum">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="gray" viewBox="0 0 256 256">
            <path
                d="M128 24A104 104 0 1 0 232 128 104.11791 104.11791 0 0 0 128 24Zm0 48a12 12 0 1 1-12 12 12 12 0 0 1 12-12Zm16 120a8 8 0 0 1-16 0v-48a8 8 0 0 1 16 0Zm0 0" />
        </svg>
    </a>


    <!-- <script src="script.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>


    <script src="js/state.js"></script>
    <script src="js/kanjivg.js"></script>
    <script src="js/pdf.js"></script>
    <script src="js/ui.js"></script>


</body>

</html>